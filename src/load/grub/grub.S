[BITS 32]

MAGIC EQU 0x1BADB002
ALIGNF EQU 1<<0
MEMINF EQU 1<<1
LOADMF EQU 1<<16
MB_FLAGS EQU ALIGNF | MEMINF | LOADMF
CHECKSUM EQU -(MAGIC + MB_FLAGS)

SECTION .multiboot
ALIGN 4
multiboot:
DD MAGIC    ; MAGIC
DD MB_FLAGS ; FLAGS
DD CHECKSUM ; CHECKSUM
;DD 0x00100000 ; KERNEL LOCATION BEFORE 64 BIT JUMP
;DD 0x00100000
;DD 0x00200000 ; MUST BE ADDR OF END OF EXECUTABLE
;DD 0x00200000
;DD 0x00100020

SECTION .text
global grubstrap
grubstrap:
    CLI
    HLT